<!DOCTYPE html>
<html lang="es" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Contraseña Lab</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="img/icono_candado.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="app-shell">
        <header class="app-header">
            <div class="brand">
                <span class="brand-icon" aria-hidden="true">
                    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" role="presentation" focusable="false">
                        <path d="M9.75 3v2.25m4.5-2.25v2.25m-9 3h13.5m-12 0h10.5l-1.458 9.833A2.25 2.25 0 0 1 13.566 21H8.934a2.25 2.25 0 0 1-2.226-1.917L5.25 8.25Zm9.75 0V3a1.5 1.5 0 0 0-1.5-1.5h-3a1.5 1.5 0 0 0-1.5 1.5v5.25" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                    </svg>
                </span>
                <h1>Contraseña Lab</h1>
            </div>
            <button class="theme-toggle" id="themeToggle" type="button" aria-label="Cambiar a modo claro">
                <span class="theme-toggle__icon theme-toggle__icon--moon" aria-hidden="true">
                    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" role="presentation" focusable="false">
                        <path d="M21 12.79A9 9 0 0 1 11.21 3 7 7 0 1 0 21 12.79Z" fill="currentColor" />
                    </svg>
                </span>
                <span class="theme-toggle__label">Modo oscuro</span>
                <span class="theme-toggle__icon theme-toggle__icon--sun" aria-hidden="true">
                    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" role="presentation" focusable="false">
                        <path d="M12 18a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm0-16V1m0 22v-1m10-10h-1M3 12H2m17.07 7.07-.7-.7M5.64 5.64l-.7-.7m0 14.14.7-.7m12.73-12.73.7-.7" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" />
                    </svg>
                </span>
            </button>
        </header>

        <!-- Navegación principal de secciones -->
        <nav class="tab-nav" role="tablist" aria-label="Secciones del laboratorio">
            <button class="tab-link active" role="tab" aria-selected="true" aria-controls="panel-generator" id="tab-generator" data-target="panel-generator">Generador</button>
            <button class="tab-link" role="tab" aria-selected="false" aria-controls="panel-hibp" id="tab-hibp" data-target="panel-hibp">Verificador de filtraciones</button>
            <button class="tab-link" role="tab" aria-selected="false" aria-controls="panel-brute" id="tab-brute" data-target="panel-brute">Fuerza bruta</button>
        </nav>

        <main class="panels">
            <!-- PANEL: GENERADOR -->
            <section id="panel-generator" class="panel active" role="tabpanel" aria-labelledby="tab-generator">
                <div class="panel-card">
                    <div class="field-group">
                        <label for="passwordInput">Contraseña generada</label>
                        <div class="password-display">
                            <input
                                id="passwordInput"
                                class="password-input"
                                data-sync="password"
                                type="password"
                                placeholder="Tu contraseña aparecerá aquí"
                                autocomplete="off"
                                maxlength="60"
                            >
                            <!-- Botón de mostrar/ocultar contraseña -->
                            <button
                                id="toggleVisibility"
                                type="button"
                                class="ghost-button"
                                aria-label="Mostrar contraseña"
                                data-visibility-target="passwordInput"
                            >
                                <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" role="presentation" focusable="false" aria-hidden="true">
                                    <path d="M12 5c-5 0-9 7-9 7s4 7 9 7 9-7 9-7-4-7-9-7Zm0 11a4 4 0 1 1 0-8 4 4 0 0 1 0 8Zm0-6a2 2 0 1 0 0 4 2 2 0 0 0 0-4Z" fill="currentColor"/>
                                </svg>
                            </button>
                            <!-- Botón de copiar contraseña -->
                            <button id="copyBtn" type="button" class="ghost-button" disabled>
                                <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" role="presentation" focusable="false" aria-hidden="true">
                                    <path d="M9 3a2 2 0 0 0-2 2v11h2V5h8V3H9Zm4 4a2 2 0 0 0-2 2v12h10V9h-8Zm-2 2h6v8h-6V9Z" fill="currentColor"/>
                                </svg>
                                Copiar
                            </button>
                        </div>
                    </div>

                    <!-- Indicador de fuerza de la contraseña -->
                    <div class="strength-widget" aria-live="polite">
                        <div class="strength-track" aria-hidden="true">
                            <span class="strength-fill" id="strengthFill"></span>
                        </div>
                        <div class="strength-meta">
                            <span id="strengthLevel">Muy débil</span>
                            <span id="strengthScore">0 bits</span>
                        </div>
                        <p id="strengthMessage">Genera o escribe una contraseña para evaluar su entropía.</p>
                    </div>

                    <!-- Controles del generador -->
                    <div class="generator-grid">
                        <div class="slider-group">
                            <label for="lengthSlider">Longitud</label>
                            <div class="slider-control">
                                <input type="range" id="lengthSlider" min="8" max="60" value="20">
                                <output id="lengthDisplay" for="lengthSlider">20</output>
                            </div>
                        </div>
                        <div class="toggle-grid" role="group" aria-label="Tipos de caracteres">
                            <label class="toggle">
                                <input type="checkbox" id="includeLowercase" checked>
                                <span class="toggle-label">Minúsculas (a-z)</span>
                            </label>
                            <label class="toggle">
                                <input type="checkbox" id="includeUppercase" checked>
                                <span class="toggle-label">Mayúsculas (A-Z)</span>
                            </label>
                            <label class="toggle">
                                <input type="checkbox" id="includeNumbers" checked>
                                <span class="toggle-label">Números (0-9)</span>
                            </label>
                            <label class="toggle">
                                <input type="checkbox" id="includeSymbols" checked>
                                <span class="toggle-label">Símbolos (!@#)</span>
                            </label>
                        </div>
                    </div>

                    <div class="generator-actions">
                        <button id="generateBtn" class="primary-button" type="button">Generar contraseña</button>
                        <p id="generatorFeedback" class="generator-feedback" role="status" aria-live="polite"></p>
                    </div>
                </div>
            </section>

            <!-- PANEL: HIBP -->
            <section id="panel-hibp" class="panel" role="tabpanel" aria-labelledby="tab-hibp" hidden>
                <div class="panel-card">
                    <div class="field-group">
                        <label for="hibpPassword">Contraseña a verificar</label>
                        <div class="password-display">
                            <input
                                id="hibpPassword"
                                class="password-sync"
                                data-sync="password"
                                type="password"
                                placeholder="Se sincroniza con el generador"
                                autocomplete="off"
                                maxlength="60"
                            >
                            <button
                                id="toggleVisibilityHibp"
                                type="button"
                                class="ghost-button"
                                aria-label="Mostrar contraseña"
                                data-visibility-target="hibpPassword"
                            >
                                <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" role="presentation" focusable="false" aria-hidden="true">
                                    <path d="M12 5c-5 0-9 7-9 7s4 7 9 7 9-7 9-7-4-7-9-7Zm0 11a4 4 0 1 1 0-8 4 4 0 0 1 0 8Zm0-6a2 2 0 1 0 0 4 2 2 0 0 0 0-4Z" fill="currentColor"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                    <div class="breach-status" id="breachStatus" role="status" aria-live="polite">
                        Introduce una contraseña para consultar Have I Been Pwned.
                    </div>
                    <p class="breach-counter" id="breachCounter"></p>
                </div>
            </section>

            <!-- PANEL: FUERZA BRUTA -->
            <section id="panel-brute" class="panel" role="tabpanel" aria-labelledby="tab-brute" hidden>
                <div class="panel-card">
                    <div class="field-group">
                        <label for="brutePassword">Contraseña a estimar</label>
                        <div class="password-display">
                            <input
                                id="brutePassword"
                                class="password-sync"
                                data-sync="password"
                                type="password"
                                placeholder="Se sincroniza con el generador"
                                autocomplete="off"
                                maxlength="60"
                            >
                            <button
                                id="toggleVisibilityBrute"
                                type="button"
                                class="ghost-button"
                                aria-label="Mostrar contraseña"
                                data-visibility-target="brutePassword"
                            >
                                <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" role="presentation" focusable="false" aria-hidden="true">
                                    <path d="M12 5c-5 0-9 7-9 7s4 7 9 7 9-7 9-7-4-7-9-7Zm0 11a4 4 0 1 1 0-8 4 4 0 0 1 0 8Zm0-6a2 2 0 1 0 0 4 2 2 0 0 0 0-4Z" fill="currentColor"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                    <div class="attack-grid">
                        <article class="attack-card" data-scenario="cpu">
                            <h3>CPU común</h3>
                            <p class="time-estimate" id="cpuTime">Ingresa una contraseña.</p>
                            <span class="time-bar" id="cpuBar"></span>
                        </article>
                        <article class="attack-card" data-scenario="gpu">
                            <h3>GPU moderna</h3>
                            <p class="time-estimate" id="gpuTime">Ingresa una contraseña.</p>
                            <span class="time-bar" id="gpuBar"></span>
                        </article>
                        <article class="attack-card" data-scenario="distributed">
                            <h3>Ataque distribuido</h3>
                            <p class="time-estimate" id="distributedTime">Ingresa una contraseña.</p>
                            <span class="time-bar" id="distributedBar"></span>
                        </article>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script src="script.js" type="module"></script>
</body>
</html>
